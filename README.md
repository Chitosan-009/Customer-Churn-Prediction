# 电信客户流失预测项目（Customer Churn Prediction）

## 🧠 项目背景
随着电信市场竞争加剧，客户流失成为影响收入的关键问题。本项目旨在基于历史通信数据构建客户流失预测模型，识别高风险客户，提出可执行的挽留策略。

## 📊 数据来源与内容
- 样本量：4250条
- 字段包含：
  - 基础信息：客户编号、合同类型、是否开通国际套餐、是否开通语音邮件等
  - 通话特征：日间、晚间、夜间、国际通话时长及费用
  - 服务特征：客服呼叫次数、账单周期费用等
  - 标签：是否流失（churn）

## 🧹 数据清洗与分析
- 检查缺失值、重复值、异常值并处理；
- 进行单变量与双变量分析，探索特征与流失率的关系；
- 对分类变量绘制分布图，对连续变量进行分箱（binning）与分组统计；
- 业务发现：
  - 客服呼叫 ≥4 次的用户流失率显著提升；
  - 有国际套餐用户流失率高于普通用户；
  - 高费用区间客户流失率增加。

## 🧮 特征工程
- 使用自定义分箱函数生成分箱特征；
- 构造衍生特征（费用占比、通话稳定性、国际使用频率等）；
- One-hot 编码与标准化；
- 训练集 / 测试集划分并保持分布一致性；
- 保存分箱规则与编码映射，保证推理阶段一致性。

## 🤖 模型构建与评估
使用多种模型进行对比与调优：
| 模型 | ROC-AUC | 优势 |
|------|----------------|------|
| Logistic Regression | 0.83 | 可解释性强 |
| Random Forest | 0.87 | 非线性拟合能力强 |
| XGBoost | 0.88 | 泛化能力好，训练速度快 |
| LightGBM | 0.89 | 最优表现 |

- 采用 5 折交叉验证与随机搜索调参；
- 输出混淆矩阵、ROC 曲线、重要特征排序；
- 保存最佳模型用于预测。

## 🧭 模型解释与业务建议
- 使用逻辑回归系数 / 树模型特征重要度分析影响因素；
- 对流失用户画像建模；
- 主要建议：
  1. 针对客服呼叫频繁客户建立自动跟进机制；
  2. 为国际套餐用户提供轻量级优惠；
  3. 优化高额账单客户服务体验；
  4. 建立流失预警评分系统。

## ⚙️ 运行方式
```bash
# 环境安装
pip install -r requirements.txt

# 运行顺序
1. 数据清洗与分析.ipynb
2. 特征工程与预处理.ipynb
3. 模型训练与解释.ipynb
telecom-churn-prediction/
├── data/                      # 数据目录
│   ├── raw/                   # 原始数据
│   │   ├── train.csv          # 训练集
│   │   └── test.csv           # 测试集
│   └── processed/             # 处理后的数据
├── notebooks/                 # Jupyter笔记本
│   ├── 01_数据清洗与探索性分析.ipynb
│   ├── 02_特征工程与数据预处理.ipynb
│   ├── 03_模型训练与评估.ipynb
│   └── 04_模型解释与业务建议.ipynb
├── model_output/              # 模型输出
│   ├── best_lightgbm_model.pkl
│   ├── model_metrics.json
│   └── feature_importance.png
├── src/                       # 工具函数
│   ├── data_cleaning.py       # 数据清洗函数
│   ├── feature_engineering.py # 特征工程函数
│   └── model_utils.py         # 模型工具函数
├── run_full_pipeline.py       # 一键运行脚本
├── requirements.txt           # 依赖清单
└── README.md                  # 项目说明
